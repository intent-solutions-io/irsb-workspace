{"id":"irsb-kh1","title":"Formal agent verification via Z3 SMT solver","description":"Implement Z3 SMT-based formal verification for AI agent tool calls in agents repo. Addresses PM-AG-002 (CRITICAL: zero prompt injection defense). Creates verifier.py, verifier_config.py, middleware.py, prompt injection hardening in RAG pipeline, 70 new tests, ADR doc.","status":"closed","priority":1,"issue_type":"task","owner":"jeremylongshore@users.noreply.github.com","created_at":"2026-02-12T22:46:26.407695184-06:00","created_by":"jeremylongshore","updated_at":"2026-02-12T22:46:34.008513529-06:00","closed_at":"2026-02-12T22:46:34.008513529-06:00","close_reason":"Evidence: 6 files created (verifier.py, verifier_config.py, middleware.py, test_verifier.py, test_prompt_injection.py, 002-DR-ARCH-formal-verification.md), 3 files modified (server.py, rag_pipeline.py, pyproject.toml). 138 tests passing (70 new), ruff clean. Z3 constraints: FILE_ACCESS, COMMAND_EXEC, DATA_EXFIL, NETWORK, RESOURCE_LIMIT, PERMISSION. Mitigates PM-AG-002."}
{"id":"irsb-wqr","title":"docs: catastrophic failure pre-mortem and multi-chain feasibility analysis","description":"Full ecosystem hostile security pre-mortem for public exposure and professional auditing. Covers: on-chain contracts (SolverRegistry, IntentReceiptHub, DisputeModule, EscrowVault, WalletDelegate, enforcers, X402Facilitator, ReceiptV2Extension, OptimisticDisputeModule), off-chain services (solver, watchtower, agent-passkey, agents), SDK/packages (x402-irsb, dashboard, subgraph). Deliverable: protocol/000-docs/039-AA-AUDT-pre-mortem-analysis.md (~1500 lines). 8 parts: Project Killers, Technical Findings, Economic Attacks, Governance/Regulatory, Multi-Chain Feasibility, Infinite Lifecycle, Remediation Roadmap, Risk Matrix.","status":"closed","priority":0,"issue_type":"epic","owner":"jeremylongshore@users.noreply.github.com","created_at":"2026-02-12T01:45:35.18315946-06:00","created_by":"jeremylongshore","updated_at":"2026-02-12T23:11:02.130170123-06:00","closed_at":"2026-02-12T23:11:02.130170123-06:00","close_reason":"Complete. 83 findings documented in 039-AA-AUDT. All 4 CRITICAL findings addressed in protocol v1.4.0 (PM-GV-001 TimelockController, PM-EC-001 volume bonds, PM-SC-002 nonce fix, PM-SC-022 ECDSA fix). Agents v0.2.0 mitigates PM-AG-002 with Z3 formal verification.","comments":[{"id":1,"issue_id":"irsb-wqr","author":"jeremylongshore","text":"Scope: Full ecosystem hostile security pre-mortem. On-chain (11 contracts), off-chain (4 services), packages (SDK, x402-irsb, subgraph). 62 findings from 3 parallel audit agents. Deliverable: protocol/000-docs/039-AA-AUDT-pre-mortem-analysis.md (~1500 lines, 8 parts).","created_at":"2026-02-12T07:47:49Z"}]}
{"id":"irsb-wqr.1","title":"docs(pre-mortem): write Part 1 — project killers (top 5 existential threats)","description":"Write Part 1 of pre-mortem: Re-rank top 5 existential threats after full code review. Attack narratives for each. Must account for existing mitigations (Safe 2/3, ReentrancyGuard, chainId+nonce replay). Acceptance: Each killer has specific code references (file:line), attack narrative, and severity rating.","status":"closed","priority":0,"issue_type":"task","owner":"jeremylongshore@users.noreply.github.com","created_at":"2026-02-12T01:45:52.506412778-06:00","created_by":"jeremylongshore","updated_at":"2026-02-12T02:04:17.400079712-06:00","closed_at":"2026-02-12T02:04:17.400079712-06:00","close_reason":"Part 1 written: 5 project killers with code evidence and attack narratives","dependencies":[{"issue_id":"irsb-wqr.1","depends_on_id":"irsb-wqr","type":"parent-child","created_at":"2026-02-12T01:45:52.508448642-06:00","created_by":"jeremylongshore"}],"comments":[{"id":2,"issue_id":"irsb-wqr.1","author":"jeremylongshore","text":"Sources: SolverRegistry.sol:L14-18 (MINIMUM_BOND), IntentReceiptHub.sol:L498 (setDisputeModule), OptimisticDisputeModule.sol:L33-39 (SLASH_*_BPS). Cross-ref: 025-AA-SEC threat model SC-1 thru ID-2.","created_at":"2026-02-12T07:48:08Z"}]}
{"id":"irsb-wqr.10","title":"chore: update MEMORY.md with pre-mortem completion status","description":"Record in MEMORY.md: pre-mortem completion date, top 5 remediation priorities, total finding count, document location. Acceptance: MEMORY.md updated.","status":"closed","priority":0,"issue_type":"task","owner":"jeremylongshore@users.noreply.github.com","created_at":"2026-02-12T01:46:30.55064579-06:00","created_by":"jeremylongshore","updated_at":"2026-02-12T02:04:47.110294488-06:00","closed_at":"2026-02-12T02:04:47.110294488-06:00","close_reason":"MEMORY.md updated with pre-mortem completion status, top findings, and remediation priorities","dependencies":[{"issue_id":"irsb-wqr.10","depends_on_id":"irsb-wqr","type":"parent-child","created_at":"2026-02-12T01:46:30.554430604-06:00","created_by":"jeremylongshore"},{"issue_id":"irsb-wqr.10","depends_on_id":"irsb-wqr.9","type":"blocks","created_at":"2026-02-12T01:46:46.586187631-06:00","created_by":"jeremylongshore"}],"comments":[{"id":11,"issue_id":"irsb-wqr.10","author":"jeremylongshore","text":"Blocked by .9. Record: completion date, top 5 remediation priorities, total finding count, doc location.","created_at":"2026-02-12T07:48:08Z"}]}
{"id":"irsb-wqr.11","title":"docs: commit pre-mortem analysis to protocol repo","description":"git commit: 'docs: add catastrophic failure pre-mortem and multi-chain feasibility analysis'. Push to main. Acceptance: Clean commit on main.","status":"closed","priority":0,"issue_type":"task","owner":"jeremylongshore@users.noreply.github.com","created_at":"2026-02-12T01:46:30.649203991-06:00","created_by":"jeremylongshore","updated_at":"2026-02-12T02:05:16.395368278-06:00","closed_at":"2026-02-12T02:05:16.395368278-06:00","close_reason":"Committed as 2aeebdd3 on main: docs: add catastrophic failure pre-mortem and multi-chain feasibility analysis","dependencies":[{"issue_id":"irsb-wqr.11","depends_on_id":"irsb-wqr","type":"parent-child","created_at":"2026-02-12T01:46:30.652617917-06:00","created_by":"jeremylongshore"},{"issue_id":"irsb-wqr.11","depends_on_id":"irsb-wqr.9","type":"blocks","created_at":"2026-02-12T01:46:46.712721793-06:00","created_by":"jeremylongshore"},{"issue_id":"irsb-wqr.11","depends_on_id":"irsb-wqr.10","type":"blocks","created_at":"2026-02-12T01:46:46.852644549-06:00","created_by":"jeremylongshore"}],"comments":[{"id":12,"issue_id":"irsb-wqr.11","author":"jeremylongshore","text":"Blocked by .9,.10. Commit msg: docs: add catastrophic failure pre-mortem and multi-chain feasibility analysis","created_at":"2026-02-12T07:48:09Z"}]}
{"id":"irsb-wqr.2","title":"docs(pre-mortem): write Part 2 — technical findings catalog (~62 findings)","description":"Write Part 2: Complete catalog of all technical findings from 3 audit agents + previous code verification. On-chain: delegation (23 findings), payment/extension (23 findings). Off-chain: SDK/packages/agents (16 findings). Each finding: ID, severity, file:line, description, impact, recommendation. Cross-reference with existing threat model (025-AA-SEC). Acceptance: All ~62 findings cataloged with code references, de-duped against existing threat model.","status":"closed","priority":0,"issue_type":"task","owner":"jeremylongshore@users.noreply.github.com","created_at":"2026-02-12T01:45:59.385445637-06:00","created_by":"jeremylongshore","updated_at":"2026-02-12T02:04:17.525917523-06:00","closed_at":"2026-02-12T02:04:17.525917523-06:00","close_reason":"Part 2 written: 62 findings cataloged across delegation, payment, off-chain","dependencies":[{"issue_id":"irsb-wqr.2","depends_on_id":"irsb-wqr","type":"parent-child","created_at":"2026-02-12T01:45:59.387256922-06:00","created_by":"jeremylongshore"}],"comments":[{"id":3,"issue_id":"irsb-wqr.2","author":"jeremylongshore","text":"Agent 1 (delegation): 23 findings (3C/6H/5M/5L/4I). Agent 2 (payment/ext): 23 findings (3C/5H/5M/7L/3I). Agent 3 (off-chain): 16 findings (3C/4H/6M/3L). De-dup against existing threat model.","created_at":"2026-02-12T07:48:08Z"}]}
{"id":"irsb-wqr.3","title":"docs(pre-mortem): write Part 3 — economic attack scenarios","description":"Write Part 3: Economic attack scenarios with math. Rational fraud cascade (0.1 ETH bond vs unlimited volume), challenger griefing (0.01 ETH bond), arbitrator perverse incentive (10% of slashes), Sybil re-registration (public registerSolver). Each scenario: attacker profile, capital required, expected value, defense gaps. Acceptance: 4+ attack scenarios with numeric EV calculations.","status":"closed","priority":0,"issue_type":"task","owner":"jeremylongshore@users.noreply.github.com","created_at":"2026-02-12T01:46:06.619488388-06:00","created_by":"jeremylongshore","updated_at":"2026-02-12T02:04:17.732190821-06:00","closed_at":"2026-02-12T02:04:17.732190821-06:00","close_reason":"Part 3 written: 5 economic attack scenarios with code evidence","dependencies":[{"issue_id":"irsb-wqr.3","depends_on_id":"irsb-wqr","type":"parent-child","created_at":"2026-02-12T01:46:06.622025554-06:00","created_by":"jeremylongshore"}],"comments":[{"id":4,"issue_id":"irsb-wqr.3","author":"jeremylongshore","text":"Key constants: MINIMUM_BOND=0.1 ETH (SolverRegistry:18), CHALLENGER_BOND_BPS=1000 (Types.sol:132), SLASH_ARBITRATOR_BPS=1000 (OptimisticDisputeModule:39). registerSolver() is public/whenNotPaused.","created_at":"2026-02-12T07:48:08Z"}]}
{"id":"irsb-wqr.4","title":"docs(pre-mortem): write Part 4 — governance and regulatory analysis","description":"Write Part 4: Governance analysis (Safe 2/3 multisig, no timelock, no DAO, parameter ossification) + regulatory risk (Howey test, money transmitter, KYC/OFAC, MiCA). Acceptance: Governance gap analysis with specific admin function references, regulatory risk matrix per jurisdiction.","status":"closed","priority":0,"issue_type":"task","owner":"jeremylongshore@users.noreply.github.com","created_at":"2026-02-12T01:46:20.429491-06:00","created_by":"jeremylongshore","updated_at":"2026-02-12T02:04:17.877359827-06:00","closed_at":"2026-02-12T02:04:17.877359827-06:00","close_reason":"Part 4 written: governance, regulatory, key person risks","dependencies":[{"issue_id":"irsb-wqr.4","depends_on_id":"irsb-wqr","type":"parent-child","created_at":"2026-02-12T01:46:20.431097637-06:00","created_by":"jeremylongshore"}],"comments":[{"id":5,"issue_id":"irsb-wqr.4","author":"jeremylongshore","text":"Safe 2/3 at 0xBcA0...9959 owns all contracts. No timelock on admin functions. Regulatory: Howey, money transmitter, KYC/OFAC, MiCA analysis.","created_at":"2026-02-12T07:48:08Z"}]}
{"id":"irsb-wqr.5","title":"docs(pre-mortem): write Part 5 — multi-chain feasibility","description":"Write Part 5: 10 cross-chain challenges with severity ratings. Architecture comparison: hub-and-spoke vs independent vs shared sequencer. Recommendation with rationale. Acceptance: Each challenge rated by severity, recommended architecture with trade-offs.","status":"closed","priority":0,"issue_type":"task","owner":"jeremylongshore@users.noreply.github.com","created_at":"2026-02-12T01:46:20.527640978-06:00","created_by":"jeremylongshore","updated_at":"2026-02-12T02:04:18.04205494-06:00","closed_at":"2026-02-12T02:04:18.04205494-06:00","close_reason":"Part 5 written: 10 cross-chain challenges, 3 architecture options","dependencies":[{"issue_id":"irsb-wqr.5","depends_on_id":"irsb-wqr","type":"parent-child","created_at":"2026-02-12T01:46:20.530493208-06:00","created_by":"jeremylongshore"}],"comments":[{"id":6,"issue_id":"irsb-wqr.5","author":"jeremylongshore","text":"10 cross-chain challenges. Architecture comparison: hub-and-spoke vs independent vs shared sequencer. Recommend hub-and-spoke with L1 canonical state.","created_at":"2026-02-12T07:48:08Z"}]}
{"id":"irsb-wqr.6","title":"docs(pre-mortem): write Part 6 — infinite lifecycle feasibility","description":"Write Part 6: Protocol ossification risk, sustainability requirements, decay vectors (key loss, governance, dependency rot). Acceptance: Sustainability scorecard with 5+ decay vectors analyzed.","status":"closed","priority":0,"issue_type":"task","owner":"jeremylongshore@users.noreply.github.com","created_at":"2026-02-12T01:46:20.618618614-06:00","created_by":"jeremylongshore","updated_at":"2026-02-12T02:04:18.173320555-06:00","closed_at":"2026-02-12T02:04:18.173320555-06:00","close_reason":"Part 6 written: 6 lifecycle risks","dependencies":[{"issue_id":"irsb-wqr.6","depends_on_id":"irsb-wqr","type":"parent-child","created_at":"2026-02-12T01:46:20.620821929-06:00","created_by":"jeremylongshore"}],"comments":[{"id":7,"issue_id":"irsb-wqr.6","author":"jeremylongshore","text":"Decay vectors: key loss, governance stagnation, dependency rot, economic obsolescence, regulatory change.","created_at":"2026-02-12T07:48:08Z"}]}
{"id":"irsb-wqr.7","title":"docs(pre-mortem): write Part 7 — prioritized remediation roadmap","description":"Write Part 7: Remediation roadmap. Phase 0 (pre-mainnet): timelock, bond-to-volume, audit. Phase 1 (mainnet hardening): bug bounty, anti-Sybil. Phase 2 (multi-chain): proxies, L2 deployment. Phase 3 (governance): DAO, dynamic params. Each item maps back to specific finding IDs. Acceptance: Every finding from Part 2 has a remediation item assigned to a phase.","status":"closed","priority":0,"issue_type":"task","owner":"jeremylongshore@users.noreply.github.com","created_at":"2026-02-12T01:46:20.710563686-06:00","created_by":"jeremylongshore","updated_at":"2026-02-12T02:04:26.324343801-06:00","closed_at":"2026-02-12T02:04:26.324343801-06:00","close_reason":"Part 7 written: 4-phase remediation roadmap with prioritized actions","dependencies":[{"issue_id":"irsb-wqr.7","depends_on_id":"irsb-wqr","type":"parent-child","created_at":"2026-02-12T01:46:20.712117593-06:00","created_by":"jeremylongshore"},{"issue_id":"irsb-wqr.7","depends_on_id":"irsb-wqr.1","type":"blocks","created_at":"2026-02-12T01:46:37.275052192-06:00","created_by":"jeremylongshore"},{"issue_id":"irsb-wqr.7","depends_on_id":"irsb-wqr.2","type":"blocks","created_at":"2026-02-12T01:46:37.396355093-06:00","created_by":"jeremylongshore"},{"issue_id":"irsb-wqr.7","depends_on_id":"irsb-wqr.3","type":"blocks","created_at":"2026-02-12T01:46:37.560283365-06:00","created_by":"jeremylongshore"},{"issue_id":"irsb-wqr.7","depends_on_id":"irsb-wqr.4","type":"blocks","created_at":"2026-02-12T01:46:37.6681555-06:00","created_by":"jeremylongshore"},{"issue_id":"irsb-wqr.7","depends_on_id":"irsb-wqr.5","type":"blocks","created_at":"2026-02-12T01:46:37.771678411-06:00","created_by":"jeremylongshore"},{"issue_id":"irsb-wqr.7","depends_on_id":"irsb-wqr.6","type":"blocks","created_at":"2026-02-12T01:46:37.894352755-06:00","created_by":"jeremylongshore"}],"comments":[{"id":8,"issue_id":"irsb-wqr.7","author":"jeremylongshore","text":"Blocked by .1-.6. Maps every finding to a remediation phase: P0 (pre-mainnet), P1 (hardening), P2 (multi-chain), P3 (governance), P4 (infinite lifecycle).","created_at":"2026-02-12T07:48:08Z"}]}
{"id":"irsb-wqr.8","title":"docs(pre-mortem): write Part 8 — risk matrix (likelihood x impact)","description":"Write Part 8: Risk matrix grid. All finding IDs from Parts 2-4 plotted on likelihood vs impact. Color-coded by severity. Acceptance: Every finding has a matrix position, overall risk posture summary.","status":"closed","priority":0,"issue_type":"task","owner":"jeremylongshore@users.noreply.github.com","created_at":"2026-02-12T01:46:20.810060428-06:00","created_by":"jeremylongshore","updated_at":"2026-02-12T02:04:26.500406503-06:00","closed_at":"2026-02-12T02:04:26.500406503-06:00","close_reason":"Part 8 written: risk matrix with 83 findings scored by likelihood x impact","dependencies":[{"issue_id":"irsb-wqr.8","depends_on_id":"irsb-wqr","type":"parent-child","created_at":"2026-02-12T01:46:20.811689811-06:00","created_by":"jeremylongshore"},{"issue_id":"irsb-wqr.8","depends_on_id":"irsb-wqr.2","type":"blocks","created_at":"2026-02-12T01:46:45.036703467-06:00","created_by":"jeremylongshore"},{"issue_id":"irsb-wqr.8","depends_on_id":"irsb-wqr.3","type":"blocks","created_at":"2026-02-12T01:46:45.171140458-06:00","created_by":"jeremylongshore"},{"issue_id":"irsb-wqr.8","depends_on_id":"irsb-wqr.4","type":"blocks","created_at":"2026-02-12T01:46:45.296383959-06:00","created_by":"jeremylongshore"}],"comments":[{"id":9,"issue_id":"irsb-wqr.8","author":"jeremylongshore","text":"Blocked by .2,.3,.4. Every finding ID from Parts 2-4 plotted on likelihood vs impact grid.","created_at":"2026-02-12T07:48:08Z"}]}
{"id":"irsb-wqr.9","title":"docs(pre-mortem): assemble 039-AA-AUDT-pre-mortem-analysis.md","description":"Assemble all 8 parts into protocol/000-docs/039-AA-AUDT-pre-mortem-analysis.md. Verify: renders correctly, all finding IDs consistent, remediation items map to findings, risk matrix covers all IDs. Acceptance: Single markdown file, well-structured, ~1500 lines.","status":"closed","priority":0,"issue_type":"task","owner":"jeremylongshore@users.noreply.github.com","created_at":"2026-02-12T01:46:30.437697418-06:00","created_by":"jeremylongshore","updated_at":"2026-02-12T02:04:26.618053586-06:00","closed_at":"2026-02-12T02:04:26.618053586-06:00","close_reason":"Document assembled as 039-AA-AUDT-pre-mortem-analysis.md, all 8 parts integrated","dependencies":[{"issue_id":"irsb-wqr.9","depends_on_id":"irsb-wqr","type":"parent-child","created_at":"2026-02-12T01:46:30.43949334-06:00","created_by":"jeremylongshore"},{"issue_id":"irsb-wqr.9","depends_on_id":"irsb-wqr.1","type":"blocks","created_at":"2026-02-12T01:46:45.478224099-06:00","created_by":"jeremylongshore"},{"issue_id":"irsb-wqr.9","depends_on_id":"irsb-wqr.2","type":"blocks","created_at":"2026-02-12T01:46:45.616087326-06:00","created_by":"jeremylongshore"},{"issue_id":"irsb-wqr.9","depends_on_id":"irsb-wqr.3","type":"blocks","created_at":"2026-02-12T01:46:45.769745165-06:00","created_by":"jeremylongshore"},{"issue_id":"irsb-wqr.9","depends_on_id":"irsb-wqr.4","type":"blocks","created_at":"2026-02-12T01:46:45.906685423-06:00","created_by":"jeremylongshore"},{"issue_id":"irsb-wqr.9","depends_on_id":"irsb-wqr.5","type":"blocks","created_at":"2026-02-12T01:46:46.047953563-06:00","created_by":"jeremylongshore"},{"issue_id":"irsb-wqr.9","depends_on_id":"irsb-wqr.6","type":"blocks","created_at":"2026-02-12T01:46:46.186180417-06:00","created_by":"jeremylongshore"},{"issue_id":"irsb-wqr.9","depends_on_id":"irsb-wqr.7","type":"blocks","created_at":"2026-02-12T01:46:46.35390535-06:00","created_by":"jeremylongshore"},{"issue_id":"irsb-wqr.9","depends_on_id":"irsb-wqr.8","type":"blocks","created_at":"2026-02-12T01:46:46.459390694-06:00","created_by":"jeremylongshore"}],"comments":[{"id":10,"issue_id":"irsb-wqr.9","author":"jeremylongshore","text":"Blocked by all 8 parts. Assemble into protocol/000-docs/039-AA-AUDT-pre-mortem-analysis.md. Verify internal consistency.","created_at":"2026-02-12T07:48:08Z"}]}
